{"ast":null,"code":"import _classCallCheck from \"/Users/tiagoformosinhosanchez/Projects/jamming/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/tiagoformosinhosanchez/Projects/jamming/node_modules/@babel/runtime/helpers/esm/createClass\";\nvar clientID = '33c842c37a0242a5add060b9629e9455';\nvar redirectURI = 'http://localhost:3000';\nvar accessToken;\n\nvar Spotify =\n/*#__PURE__*/\nfunction () {\n  function Spotify() {\n    _classCallCheck(this, Spotify);\n\n    this.accessToken = null;\n  }\n\n  _createClass(Spotify, [{\n    key: \"getAccessToken\",\n    value: function getAccessToken() {\n      if (accessToken) return accessToken;else if (window.location.href.match(/access_token=([^&]*)/) && window.location.href.match(/expires_in=([^&]*)/)) {\n        accessToken = window.location.href.match(/access_token=([^&]*)/)[1];\n        var expiresIn = window.location.href.match(/expires_in=([^&]*)/)[1];\n        window.setTimeout(function () {\n          return accessToken = '';\n        }, expiresIn * 1000);\n        window.history.pushState('Access Token', null, '/');\n        return accessToken;\n      } else {\n        var url = \"https://accounts.spotify.com/authorize?client_id=\".concat(clientID, \"&response_type=token&scope=playlist-modify-public&redirect_uri=\").concat(redirectURI);\n        window.location = url;\n      }\n    }\n  }]);\n\n  return Spotify;\n}();\n\nexport default Spotify;","map":{"version":3,"sources":["/Users/tiagoformosinhosanchez/Projects/jamming/src/util/spotify.js"],"names":["clientID","redirectURI","accessToken","Spotify","window","location","href","match","expiresIn","setTimeout","history","pushState","url"],"mappings":";;AAAA,IAAMA,QAAQ,GAAG,kCAAjB;AACA,IAAMC,WAAW,GAAG,uBAApB;AACA,IAAIC,WAAJ;;IAEMC,O;;;AACF,qBAAc;AAAA;;AACV,SAAKD,WAAL,GAAmB,IAAnB;AACH;;;;qCAEgB;AACb,UAAGA,WAAH,EACE,OAAOA,WAAP,CADF,KAEK,IAAGE,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAqBC,KAArB,CAA2B,sBAA3B,KAAsDH,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAqBC,KAArB,CAA2B,oBAA3B,CAAzD,EACL;AACEL,QAAAA,WAAW,GAAGE,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAqBC,KAArB,CAA2B,sBAA3B,EAAmD,CAAnD,CAAd;AACA,YAAMC,SAAS,GAAGJ,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAqBC,KAArB,CAA2B,oBAA3B,EAAiD,CAAjD,CAAlB;AAEAH,QAAAA,MAAM,CAACK,UAAP,CAAkB;AAAA,iBAAMP,WAAW,GAAG,EAApB;AAAA,SAAlB,EAA0CM,SAAS,GAAC,IAApD;AACAJ,QAAAA,MAAM,CAACM,OAAP,CAAeC,SAAf,CAAyB,cAAzB,EAAyC,IAAzC,EAA+C,GAA/C;AAEA,eAAOT,WAAP;AACD,OATI,MAWL;AACE,YAAIU,GAAG,8DAAuDZ,QAAvD,4EAAiIC,WAAjI,CAAP;AACAG,QAAAA,MAAM,CAACC,QAAP,GAAkBO,GAAlB;AACD;AACF;;;;;;AAIP,eAAeT,OAAf","sourcesContent":["const clientID = '33c842c37a0242a5add060b9629e9455';\nconst redirectURI = 'http://localhost:3000';\nlet accessToken\n\nclass Spotify {\n    constructor() {\n        this.accessToken = null\n    }\n\n    getAccessToken() {\n        if(accessToken)\n          return accessToken;\n        else if(window.location.href.match(/access_token=([^&]*)/) && window.location.href.match(/expires_in=([^&]*)/))\n        {\n          accessToken = window.location.href.match(/access_token=([^&]*)/)[1];\n          const expiresIn = window.location.href.match(/expires_in=([^&]*)/)[1];\n      \n          window.setTimeout(() => accessToken = '', expiresIn*1000);\n          window.history.pushState('Access Token', null, '/');\n      \n          return accessToken;\n        }\n        else\n        {\n          let url = `https://accounts.spotify.com/authorize?client_id=${clientID}&response_type=token&scope=playlist-modify-public&redirect_uri=${redirectURI}`;\n          window.location = url;\n        }\n      }\n}\n\n\nexport default Spotify;"]},"metadata":{},"sourceType":"module"}